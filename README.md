# counterforce

this program runs on a Libre Le Potato in my workstation (the Potato is
a knockoff of a Raspberry Pi 3B). said SBC is hooked up via HDMI and USB
to a [Waveshare 5.5" AMOLED](https://nick-black.com/dankwiki/index.php?title=Waveshare_AMOLED)
capacitive screen having 1920x1080 resolution.

it receives data from a program running on the workstation proper, and
draws to the AMOLED. it is necessary that it run in some manner of
attract mode, as the AMOLED is susceptible to burnin.

## UI

right now only a monitoring screen and a plot screen are available. later,
there will probably be more screens you can flip through.

### monitoring screen

separated into three panes:

* rendition of motherboard side of machine
  * shows fans, radiators, hard drives, m2s, pumps, reservoir
  * temp sensor follows Quantum Kinetic FLT
  * flow data from aquacomputer NEXT sensor
  * show ambient temp, coolant temp, flow, and delta-T
* rendition of PSU side of machine
  * shows fans, radiators, hard drives
  * temp sensor follows bottom radiator
* rendition of 3970X and TU104
  * 3970X is a quincunx of 4 CCDs and central I/O die
  * show power draw of both (`nvidia-smi`, `turbostat`)
  * 4 temperature sensors are mapped arbitrarily to CCD representations
  * show busiest processes on all execution units

whenever possible, sensor results are displayed atop relevant sensing
point. think damage/HP in final fantasy iii.

fans ought show RPMs and direction of airflow. the RPM count ought
intensify as it increases.

it would be cool to be able to press a bit of hardware and have an actual image
of it show up along with details, until you dismiss this new bit of display.

* would be nice to sense pressure both in coolant and in case
* would be nice to display volume of noise being generated by machine
  * ideally we'd not reflect ambient noise (how?)

### plot screen

plots use 1s buckets. we probably ought add a capability to see hours, days, etc., but
for now it's all run off seconds. data thus oughtn't be expensive to collect.

* 64-way line plot of process count on each cpu
* temps for each CCD and GPU, ambient, and coolant
* 16 + 5-way line plot of I/O on each block device
* network load on each interface (probably each has its own graph?)
